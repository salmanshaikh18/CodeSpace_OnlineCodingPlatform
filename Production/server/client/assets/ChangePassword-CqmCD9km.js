import{u as h,r as n,k as f,j as a,B as o}from"./index-Df5Lt0TF.js";import{B as g}from"./button-BSR3uL5I.js";import{h as x}from"./handleError-BGRHPy8g.js";const y=()=>{const t=h(e=>e.appSlice.currentUser);console.log("dfdf ",t);const[c,u]=n.useState(!1),[s,d]=n.useState(""),[l,i]=n.useState(""),p=f(),w=async e=>{e.preventDefault(),console.log("currentUser: ",t);const m=r=>r.length>=4;try{if(s){if(s!==l){o.error("Confirmed password doesn't match with the password you entered.");return}if(!s||!m(s)){o.error("Please enter a valid password (at least 4 characters).");return}u(!0),(await fetch("http://localhost:4000/user/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:s})})).ok?(d(""),i(""),p(`/profile/${t.username}`),o.success("Your Password is Updated Successfully :)")):o.error("Something went wrong!")}else o.error("Please provide the password to update your password!")}catch(r){x(r),console.log("Error while updating a password: ",r)}};return a.jsxs("div",{className:"__right flex flex-col justify-center w-full h-[80vh] items-center gap-4 my-10",children:[a.jsx("h1",{className:"text-[#03CF86] text-center w-full sm:w-[30%] mb-4 font-normal text-2xl sm:text-3xl",children:"Change Password"}),a.jsx("input",{className:"p-2 w-[90%] sm:w-[400px] border outline-none border-[#03CF86a] rounded-md bg-[#171F38]",type:"password",name:"password",value:s,onChange:e=>d(e.target.value),placeholder:"Enter Your New Password"}),a.jsx("input",{className:"p-2 w-[90%] sm:w-[400px] border outline-none border-[#03CF86a] rounded-md bg-[#171F38]",type:"password",name:"confirmPassword",value:l,onChange:e=>i(e.target.value),placeholder:"Confirm Your New Password"}),a.jsx(g,{className:"w-[90%] sm:w-[400px] bg-blue-800 transition-all ease-in-out duration-500 hover:bg-blue-900",variant:"secondary",onClick:w,children:c?"Updating Password...":"Update Password"})]})};export{y as default};
